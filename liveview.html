<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <title>Warwick Drone</title>
  
  
  
  <!-- Bootstrap core CSS -->
  <link href="resources/bootstrap.min.css" rel="stylesheet">
  
  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }
    
    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>
  
  
  <!-- Custom styles for this template -->
  <link href="resources/starter-template.css" rel="stylesheet">
</head>
<body>
  
  <div class="col-lg-8 mx-auto p-3 py-md-5">
    <header class="d-flex align-items-center pb-3 mb-5 border-bottom">
      <a href="/" class="d-flex align-items-center text-dark text-decoration-none">
        <img src="img/logo_black.png" height="50px">
        <span class="fs-4">Warwick Drone Management Console</span>
      </a>
    </header>
    
    <main>
      <a href="http://dronepi.local">&lt; Back to home</a>
      <h1>DronePi v1.0 Live View</h1>
      <div class="embed-responsive embed-responsive-4by3">
        <!-- <iframe class="embed-responsive-item" src="http://dronepi.local:8081" width=640 height=480></iframe> -->
        <!-- <video src="http://dronepi.local:8081" style="width:1000px;"></video> -->
        <!-- <img src= "http://dronepi.local:8081/?action=stream" width="800" height="600"/> -->
        <img src= "http://dronepi.local:8081/?action=stream" style="width:800px;max-width:100%"/>
      </div>
      <hr>
      <h3>Camera controls</h3>
      <button type=button id="start_record" class="btn btn-danger btn-lg px-4">Record</button>
      <button type=button id="stop_record" class="btn btn-secondary btn-lg px-4">Stop recording</button>
      <button type=button id="fusion_enable" class="btn btn-primary btn-lg px-4">Fusion</button>
      <button type=button id="icefire_enable" class="btn btn-secondary btn-lg px-4">Ice-Fire</button>
      <button type=button href="#calibrate" class="btn btn-primary btn-lg px-4" onclick="calibrate();" disabled>Calibrate temperature</button>
      <hr>
      <h3>Autonomy flight controls</h3>
      <button type=button href="#calibrate" class="btn btn-danger btn-lg px-4" disabled>Emergency stop & descend</button>
      <button type=button href="#calibrate" class="btn btn-primary btn-lg px-4" disabled>Start flight</button>
      <button type=button href="#calibrate" class="btn btn-secondary btn-lg px-4" disabled>End flight</button>
    </main>
    <footer class="pt-5 my-5 text-muted border-top">
      ES410 Autonomous Drone Design and Control team &middot; &copy; 2022-23
    </footer>
  </div>
  
  
  <script src="resources/jquery.min.js"></script>
  <script src="resources/bootstrap.bundle.min.js"></script>
  
  <script>
    $("#fusion_enable").click(function(){
      $.post("runcommand.php",
      {"command": "palette_fusion"},
      function(data, status){
        console.log("Data: " + data + "\nStatus: " + status);
      });
    });
    $("#icefire_enable").click(function(){
      $.post("runcommand.php",
      {"command": "palette_icefire"},
      function(data, status){
        console.log("Data: " + data + "\nStatus: " + status);
      });
    });
    $("#start_record").click(function(){
      $.get("http://dronepi.local:8080/00000/action/eventstart",
      function(data, status){
        console.log("Data: " + data + "\nStatus: " + status);
      });
    });
    $("#stop_record").click(function(){
      $.get("http://dronepi.local:8080/00000/action/eventend",
      function(data, status){
        console.log("Data: " + data + "\nStatus: " + status);
      });
    });
    
    
  </script>
</body>
</html>
